@import 'tailwindcss';

@custom-variant dark (&:where(.dark, .dark *));

/* Global zoom prevention for iOS, Android, and Capacitor apps */
@layer base {
    /* Prevent zoom on input types - iOS/Android won't zoom if >= 16px */
    input,
    select,
    textarea {
        font-size: 16px !important;
        touch-action: manipulation; /* Prevent double-tap zoom */
    }

    /* Buttons don't trigger iOS zoom, so only set touch-action */
    button {
        touch-action: manipulation;
    }

    /* Prevent zoom on all interactive elements */
    * {
        -webkit-tap-highlight-color: transparent; /* Remove tap highlight */
        -webkit-touch-callout: none; /* Disable callout on iOS */
    }

    /* Allow text selection for content areas only */
    p, h1, h2, h3, h4, h5, h6, span, div {
        -webkit-user-select: text;
        user-select: text;
    }

    /* Prevent selection on interactive elements */
    button,
    input,
    select,
    textarea,
    a {
        -webkit-user-select: none;
        user-select: none;
    }
}

/*
  Mobile viewport stabilization
  -----------------------------
  iOS browsers (especially Chrome on iOS) can mis-handle fixed elements when the
  top/bottom browser UI expands/collapses.
  We set CSS vars from VisualViewport in JS (helpers/viewport.ts).
*/

:root {
    /* Fallback values if JS hasn't run yet */
    --vvh: 100vh;
    --vvh-unit: 1vh;
}

@supports (height: 100dvh) {
    :root {
        /* Prefer modern dynamic viewport units when available */
        --vvh: 100dvh;
        --vvh-unit: 1dvh;
    }
}

/* Utility-ish classes (usable alongside Tailwind) */
.min-h-vv {
    min-height: var(--vvh);
}

.h-vv {
    height: var(--vvh);
}

.pb-safe {
    padding-bottom: env(safe-area-inset-bottom);
}

.bottom-safe {
    bottom: env(safe-area-inset-bottom);
}

