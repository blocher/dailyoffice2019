"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EXAMPLE_OPTS=exports.DEFAULT_OPTS=exports.getOpts=void 0;var _filterObj=_interopRequireDefault(require("filter-obj"));
var _jestValidate=require("jest-validate");

var _mirror=require("./mirror.js");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}


const getOpts=function(path,opts={}){
validateBasic(path,opts);
(0,_jestValidate.validate)(opts,{exampleConfig:EXAMPLE_OPTS});

const optsA=(0,_filterObj.default)(opts,isDefined);
const mirrorEnv=(0,_mirror.getMirrorEnv)();
const optsB={...DEFAULT_OPTS,...mirrorEnv,...optsA};
return optsB;
};exports.getOpts=getOpts;

const validateBasic=function(path){
if(typeof path!=="string"||path.trim()===""){
throw new TypeError(`Path must be a non-empty string: ${path}`);
}
};

const DEFAULT_OPTS={
progress:false,
mirror:"https://nodejs.org/dist"};exports.DEFAULT_OPTS=DEFAULT_OPTS;


const EXAMPLE_OPTS={
...DEFAULT_OPTS};exports.EXAMPLE_OPTS=EXAMPLE_OPTS;


const isDefined=function(key,value){
return value!==undefined;
};
//# sourceMappingURL=options.js.map