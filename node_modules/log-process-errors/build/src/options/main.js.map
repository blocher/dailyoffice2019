{"version":3,"sources":["../../../src/options/main.js"],"names":["getOptions","opts","optsA","isDefined","exampleConfig","EXAMPLE_OPTS","validateOptions","optsB","level","optsC","DEFAULT_OPTS","optsD","key","value","undefined","log","defaultLog","exitOn","colors","DEFAULT_COLORS","exampleFunction","testing"],"mappings":"gGAAA;AACA;;AAEA;;;;;AAKA;AACA;AACA;;AAEA,qC;;;AAGO,KAAMA,CAAAA,UAAU,CAAG,SAAS,CAAEC,IAAI,CAAG,EAAT,CAAT,CAAwB;AAChD,KAAMC,CAAAA,KAAK,CAAG,uBAAUD,IAAV,CAAgBE,SAAhB,CAAd;;AAEA,2BAASD,KAAT,CAAgB,CAAEE,aAAa,CAAEC,YAAjB,CAAhB;AACAC,eAAe,CAACJ,KAAD,CAAf;;AAEA,KAAMK,CAAAA,KAAK,CAAG,0BAAa,CAAEN,IAAI,CAAEC,KAAR,CAAb,CAAd;AACA,KAAMM,CAAAA,KAAK,CAAG,8BAAmB,CAAEP,IAAI,CAAEM,KAAR,CAAnB,CAAd;AACA,KAAME,CAAAA,KAAK,CAAG,CAAE,GAAGC,YAAL,CAAmB,GAAGH,KAAtB,CAA6BC,KAA7B,CAAd;;AAEA,KAAMG,CAAAA,KAAK,CAAG,qBAAS,CAAEV,IAAI,CAAEQ,KAAR,CAAT,CAAd;AACA,MAAOE,CAAAA,KAAP;AACD,CAZM,C;;AAcP,KAAMR,CAAAA,SAAS,CAAG,SAASS,GAAT,CAAcC,KAAd,CAAqB;AACrC,MAAOA,CAAAA,KAAK,GAAKC,SAAjB;AACD,CAFD;;AAIA,KAAMJ,CAAAA,YAAY,CAAG;AACnBK,GAAG,CAAEC,eADc;AAEnBC,MAAM,CAAE,CAAC,mBAAD,CAFW;AAGnBC,MAAM,CAAEC,sBAHW,CAArB;;;;;AAQA,KAAMC,CAAAA,eAAe,CAAG,UAAW,CAAE,CAArC;;AAEA,KAAMf,CAAAA,YAAY,CAAG;AACnB,GAAGK,YADgB;AAEnBK,GAAG,CAAEK,eAFc;AAGnBZ,KAAK,CAAE,6BAHY;AAInBa,OAAO,CAAE,gCAJU,CAArB;;;;AAQA,KAAMf,CAAAA,eAAe,CAAG,SAAS,CAAEW,MAAF,CAAUT,KAAK,CAAG,EAAlB,CAAT,CAAiC;AACvD,0BAAe,CAAEA,KAAF,CAAf;AACA,yBAAe,CAAES,MAAF,CAAf;AACD,CAHD","sourcesContent":["import { validate } from 'jest-validate'\nimport filterObj from 'filter-obj'\n\nimport {\n  applyDefaultLevels,\n  getExampleLevels,\n  validateLevels,\n} from '../level.js'\nimport { validateExitOn } from '../exit.js'\nimport { defaultLog } from '../log.js'\nimport { addChalk, DEFAULT_COLORS } from '../colors.js'\n\nimport { applyTesting, getExampleTesting } from './testing.js'\n\n// Validate options and assign default options\nexport const getOptions = function({ opts = {} }) {\n  const optsA = filterObj(opts, isDefined)\n\n  validate(optsA, { exampleConfig: EXAMPLE_OPTS })\n  validateOptions(optsA)\n\n  const optsB = applyTesting({ opts: optsA })\n  const level = applyDefaultLevels({ opts: optsB })\n  const optsC = { ...DEFAULT_OPTS, ...optsB, level }\n\n  const optsD = addChalk({ opts: optsC })\n  return optsD\n}\n\nconst isDefined = function(key, value) {\n  return value !== undefined\n}\n\nconst DEFAULT_OPTS = {\n  log: defaultLog,\n  exitOn: ['uncaughtException'],\n  colors: DEFAULT_COLORS,\n}\n\n// `validate-jest` prints the function body\n// eslint-disable-next-line no-empty-function\nconst exampleFunction = function() {}\n\nconst EXAMPLE_OPTS = {\n  ...DEFAULT_OPTS,\n  log: exampleFunction,\n  level: getExampleLevels(),\n  testing: getExampleTesting(),\n}\n\n// Validation beyond what `jest-validate` can do\nconst validateOptions = function({ exitOn, level = {} }) {\n  validateLevels({ level })\n  validateExitOn({ exitOn })\n}\n"],"file":"src/options/main.js"}