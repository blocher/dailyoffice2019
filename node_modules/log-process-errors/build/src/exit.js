"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.validateExitOn=exports.exitProcess=void 0;
var _process=_interopRequireDefault(require("process"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}
















const exitProcess=function({name,opts:{exitOn}}){
if(!exitOn.includes(name)){
return;
}





setTimeout(()=>{

_process.default.exit(EXIT_STATUS);
},EXIT_TIMEOUT);
};exports.exitProcess=exitProcess;

const EXIT_TIMEOUT=3000;
const EXIT_STATUS=1;

const validateExitOn=function({exitOn}){
if(exitOn===undefined){
return;
}

const invalidEvents=exitOn.filter(name=>!EVENTS.has(name));

if(invalidEvents.length===0){
return;
}

throw new Error(
`Invalid option 'exitOn' '${invalidEvents.join(
", ")
}': must be one of ${EVENTS_ARR.join(", ")}`);

};exports.validateExitOn=validateExitOn;

const EVENTS_ARR=[
"uncaughtException",
"unhandledRejection",
"rejectionHandled",
"multipleResolves",
"warning"];

const EVENTS=new Set(EVENTS_ARR);
//# sourceMappingURL=exit.js.map