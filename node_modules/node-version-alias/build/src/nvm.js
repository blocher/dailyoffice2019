"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getNvmSystemVersion=exports.getNvmCustomAlias=void 0;var _child_process=require("child_process");
var _path=require("path");
var _process=require("process");
var _util=require("util");

var _pathExists=_interopRequireDefault(require("path-exists"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}

const pExecFile=(0,_util.promisify)(_child_process.execFile);


const getNvmCustomAlias=function(alias){
return runNvmCommand(`nvm_alias ${alias}`);
};exports.getNvmCustomAlias=getNvmCustomAlias;


const getNvmSystemVersion=function(){
return runNvmCommand("nvm deactivate >/dev/null && node --version");
};exports.getNvmSystemVersion=getNvmSystemVersion;


const runNvmCommand=async function(command){
if(!_process.env.NVM_DIR){
return;
}

const nvmPath=(0,_path.join)(_process.env.NVM_DIR,"nvm.sh");

if(!(await(0,_pathExists.default)(nvmPath))){
return;
}

try{
const{stdout}=await pExecFile("bash",[
"-c",
`source "${nvmPath}" && ${command}`]);

return stdout.trim();




}catch{}
};
//# sourceMappingURL=nvm.js.map