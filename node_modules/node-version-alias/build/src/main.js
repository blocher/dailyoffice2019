"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.nodeVersionAlias=void 0;var _normalizeNodeVersion=_interopRequireDefault(require("normalize-node-version"));
var _semver=require("semver");

var _constant=require("./constant.js");
var _lts=require("./lts.js");
var _nvm=require("./nvm.js");
var _options=require("./options.js");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}



const nodeVersionAlias=async function(alias,opts){
const{allNodeOpts,normalizeOpts}=(0,_options.getOpts)(opts);
const versionRange=await getVersionRange(alias,allNodeOpts);

if(versionRange===undefined){
throw new Error(`Invalid Node.js version alias: ${alias}`);
}

const version=await(0,_normalizeNodeVersion.default)(versionRange,normalizeOpts);
return version;
};exports.nodeVersionAlias=nodeVersionAlias;

const getVersionRange=async function(alias,allNodeOpts){
if((0,_semver.validRange)(alias)!==null){
return alias;
}

const versionRange=await(0,_constant.getConstantAlias)(alias);

if(versionRange!==undefined){
return versionRange;
}

const versionRangeA=await(0,_lts.getLtsAlias)(alias,allNodeOpts);

if(versionRangeA!==undefined){
return versionRangeA;
}

return getRecursiveNvmAlias(alias,allNodeOpts);
};


const getRecursiveNvmAlias=async function(alias,allNodeOpts){
const aliasResult=await(0,_nvm.getNvmCustomAlias)(alias);

if(aliasResult===undefined){
return;
}

return getVersionRange(aliasResult,allNodeOpts);
};



module.exports=nodeVersionAlias;
//# sourceMappingURL=main.js.map