"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getLtsMajors=exports.getLtsAlias=void 0;var _allNodeVersions=_interopRequireDefault(require("all-node-versions"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}



const getLtsAlias=async function(alias,allNodeOpts){
const ltsMajors=await getLtsMajors(allNodeOpts);
const major=getLtsMajor(alias,ltsMajors);

if(major===undefined){
return;
}

return major.latest;
};exports.getLtsAlias=getLtsAlias;


const getLtsMajors=async function(allNodeOpts){
const{majors}=await(0,_allNodeVersions.default)(allNodeOpts);
return majors.filter(isLts);
};exports.getLtsMajors=getLtsMajors;

const isLts=function({lts}){
return lts!==undefined;
};


const getLtsMajor=function(alias,ltsMajors){
if(LATEST_LTS.has(alias)){
return ltsMajors[0];
}

const major=getNumberedLts(alias,ltsMajors);

if(major!==undefined){
return major;
}

return getNamedLts(alias,ltsMajors);
};





const LATEST_LTS=new Set(["lts","lts/*","lts/-0"]);



const getNumberedLts=function(alias,ltsMajors){
const result=NUMBER_LTS_REGEXP.exec(alias);

if(result===null){
return;
}

return ltsMajors[result[1]-1];
};

const NUMBER_LTS_REGEXP=/^lts\/-(\d+)$/u;



const getNamedLts=function(alias,ltsMajors){
const name=alias.replace(LTS_PREFIX,"").toLowerCase();
return ltsMajors.find(({lts})=>lts===name);
};

const LTS_PREFIX="lts/";
//# sourceMappingURL=lts.js.map