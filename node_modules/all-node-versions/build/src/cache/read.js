"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.writeCachedVersions=exports.readCachedVersions=void 0;var _pathExists=_interopRequireDefault(require("path-exists"));

var _file=require("./file.js");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}













const readCachedVersions=async function(fetch){
if(fetch===true){
return;
}

const cacheFile=await(0,_file.getCacheFile)();

if(!(await(0,_pathExists.default)(cacheFile))){
return;
}

const{versionsInfo,age}=await(0,_file.getCacheFileContent)(cacheFile);

if(isOldCache(age,fetch)){
return;
}

return versionsInfo;
};exports.readCachedVersions=readCachedVersions;

const isOldCache=function(age,fetch){
return age>MAX_AGE_MS&&fetch!==false;
};


const MAX_AGE_MS=36e5;


const writeCachedVersions=async function(versionsInfo){
const cacheFile=await(0,_file.getCacheFile)();
await(0,_file.setCacheFileContent)(cacheFile,versionsInfo);
};exports.writeCachedVersions=writeCachedVersions;
//# sourceMappingURL=read.js.map